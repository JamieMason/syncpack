---
import Default from '@astrojs/starlight/components/Sidebar.astro';
import type { StarlightRouteData } from '@astrojs/starlight/route-data';

type Sidebar = StarlightRouteData['sidebar'];

const props = Astro.locals.starlightRoute;
const renames: Record<string, string> = {
  'semver-groups': 'Semver Groups',
  'version-groups': 'Version Groups',
};

const renameSidebarGroupLabels = (sidebar: Sidebar): Sidebar =>
  sidebar.map(item =>
    item.type === 'link'
      ? item
      : {
          ...item,
          label: renames[item.label] || item.label,
          entries: renameSidebarGroupLabels(item.entries),
        },
  );
---

<Default {...props} sidebar={renameSidebarGroupLabels(props.sidebar)}>
  <slot />
</Default>
