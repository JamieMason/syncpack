"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[9221],{9049:(o,e,t)=>{t.r(e),t.d(e,{assets:()=>m,contentTitle:()=>g,default:()=>f,frontMatter:()=>h,metadata:()=>u,toc:()=>k});var n=t(5893),s=t(1151),c=t(9960),r=t(9794),l=t(292),p=t(6217);const i={annotations:r.ds,Code:r.EK},a={staticMediaQuery:"not screen, (max-width: 768px)",lineNumbers:void 0,showCopyButton:!0,themeName:"dracula"};function F(o){const e={code:"code",p:"p",...(0,s.a)(),...o.components};return i||y("CH",!1),i.Code||y("CH.Code",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("style",{dangerouslySetInnerHTML:{__html:'[data-ch-theme="dracula"] {  --ch-t-colorScheme: dark;--ch-t-foreground: #F8F8F2;--ch-t-background: #282A36;--ch-t-lighter-inlineBackground: #282a36e6;--ch-t-editor-background: #282A36;--ch-t-editor-foreground: #F8F8F2;--ch-t-editor-rangeHighlightBackground: #BD93F915;--ch-t-editor-infoForeground: #3794FF;--ch-t-editor-selectionBackground: #44475A;--ch-t-focusBorder: #6272A4;--ch-t-tab-activeBackground: #282A36;--ch-t-tab-activeForeground: #F8F8F2;--ch-t-tab-inactiveBackground: #21222C;--ch-t-tab-inactiveForeground: #6272A4;--ch-t-tab-border: #191A21;--ch-t-tab-activeBorder: #282A36;--ch-t-editorGroup-border: #BD93F9;--ch-t-editorGroupHeader-tabsBackground: #191A21;--ch-t-editorLineNumber-foreground: #6272A4;--ch-t-input-background: #282A36;--ch-t-input-foreground: #F8F8F2;--ch-t-input-border: #191A21;--ch-t-icon-foreground: #C5C5C5;--ch-t-sideBar-background: #21222C;--ch-t-sideBar-foreground: #F8F8F2;--ch-t-sideBar-border: #21222C;--ch-t-list-activeSelectionBackground: #44475A;--ch-t-list-activeSelectionForeground: #F8F8F2;--ch-t-list-hoverBackground: #44475A75; }'}}),"\n","\n","\n","\n",(0,n.jsxs)(e.p,{children:["Add the ",(0,n.jsx)(c.Z,{to:l.K.engines,children:(0,n.jsx)(e.code,{children:"engines"})})," property of package.json files to also be inspected by syncpack."]}),"\n",(0,n.jsx)(p.Hx,{level:o.level,children:"1. Add a custom type"}),"\n",(0,n.jsxs)(e.p,{children:["I've chosen a name of ",(0,n.jsx)(e.code,{children:"engines"})," but it can be anything you like."]}),"\n",(0,n.jsx)(i.Code,{codeConfig:a,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",title:'".syncpackrc"',focus:"",code:{lines:[{tokens:[{content:"{",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'  "',props:{style:{color:"#8BE9FE"}}},{content:"customTypes",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" {",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'    "',props:{style:{color:"#8BE9FE"}}},{content:"engines",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" {",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"      // ^ this is your custom name",props:{style:{color:"#6272A4"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"path",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:": ",props:{style:{color:"#FF79C6"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"engines",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:",",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"strategy",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:": ",props:{style:{color:"#FF79C6"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"versionsByName",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}}]},{tokens:[{content:"    }",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"  }",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"}",props:{style:{color:"#F8F8F2"}}}]}],lang:"jsonc"},annotations:[]}]}),"\n",(0,n.jsx)(p.Hx,{level:o.level,children:"2. Look for mismatches"}),"\n",(0,n.jsxs)(e.p,{children:["Perform a one-off check of all versions defined under ",(0,n.jsx)(e.code,{children:"engines"})," in your monorepo."]}),"\n",(0,n.jsx)(i.Code,{codeConfig:a,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"syncpack ",props:{style:{color:"#F8F8F2"}}},{content:"list ",props:{style:{color:"#F1FA8C"}}},{content:"--types ",props:{style:{color:"#BD93F9"}}},{content:"engines",props:{style:{color:"#F1FA8C"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,n.jsx)(e.p,{children:"If the versions are not identical, they can be synchronised to all use the highest of the semver versions currently in use."}),"\n",(0,n.jsx)(i.Code,{codeConfig:a,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"syncpack ",props:{style:{color:"#F8F8F2"}}},{content:"fix-mismatches ",props:{style:{color:"#F1FA8C"}}},{content:"--types ",props:{style:{color:"#BD93F9"}}},{content:"engines",props:{style:{color:"#F1FA8C"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,n.jsx)(p.Hx,{level:o.level,children:"3. Track them in future"}),"\n",(0,n.jsxs)(e.p,{children:["Add your new custom type to your ",(0,n.jsx)(e.code,{children:"dependencyTypes"}),"."]}),"\n",(0,n.jsx)(i.Code,{codeConfig:a,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",title:'".syncpackrc"',focus:"",code:{lines:[{tokens:[{content:"{",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'  "',props:{style:{color:"#8BE9FE"}}},{content:"dependencyTypes",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'    "',props:{style:{color:"#E9F284"}}},{content:"dev",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}}]},{tokens:[{content:'    "',props:{style:{color:"#E9F284"}}},{content:"engines",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}}]},{tokens:[{content:'    "',props:{style:{color:"#E9F284"}}},{content:"peer",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}}]},{tokens:[{content:'    "',props:{style:{color:"#E9F284"}}},{content:"prod",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}}]},{tokens:[{content:"  ]",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"}",props:{style:{color:"#F8F8F2"}}}]}],lang:"json"},annotations:[]}]}),"\n",(0,n.jsxs)(e.p,{children:["Now when you run any syncpack command, versions under ",(0,n.jsx)(e.code,{children:"engines"})," will also be checked."]}),"\n",(0,n.jsx)(i.Code,{codeConfig:a,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"syncpack ",props:{style:{color:"#F8F8F2"}}},{content:"list",props:{style:{color:"#F1FA8C"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,n.jsx)(p.Hx,{level:o.level,children:"4. Relax the rules (optional)"}),"\n",(0,n.jsxs)(e.p,{children:["If you don't want the Node.js version to be identical in every package but do want them all to be compatible with each other, you can use a ",(0,n.jsx)(c.Z,{to:"/config/version-groups/same-range",children:"Same Range"})," Version Group. This defines an exception which only applies to Node.js, leaving anything else found under ",(0,n.jsx)(e.code,{children:"engines"})," unaffected."]}),"\n",(0,n.jsx)(i.Code,{codeConfig:a,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",title:'".syncpackrc"',focus:"",code:{lines:[{tokens:[{content:"{",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'  "',props:{style:{color:"#8BE9FE"}}},{content:"dependencyTypes",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'    "',props:{style:{color:"#E9F284"}}},{content:"dev",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}}]},{tokens:[{content:'    "',props:{style:{color:"#E9F284"}}},{content:"engines",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}}]},{tokens:[{content:'    "',props:{style:{color:"#E9F284"}}},{content:"peer",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}}]},{tokens:[{content:'    "',props:{style:{color:"#E9F284"}}},{content:"prod",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}}]},{tokens:[{content:"  ],",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'  "',props:{style:{color:"#8BE9FE"}}},{content:"versionGroups",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"    {",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"dependencies",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"node",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"],",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"dependencyTypes",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"engines",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"],",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"policy",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:": ",props:{style:{color:"#FF79C6"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"sameRange",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}}]},{tokens:[{content:"    }",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"  ]",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"}",props:{style:{color:"#F8F8F2"}}}]}],lang:"json"},annotations:[]}]})]})}function d(o={}){const{wrapper:e}={...(0,s.a)(),...o.components};return e?(0,n.jsx)(e,{...o,children:(0,n.jsx)(F,{...o})}):F(o)}function y(o,e){throw new Error("Expected "+(e?"component":"object")+" `"+o+"` to be defined: you likely forgot to import, pass, or provide it.")}const h={title:"Manage npm engines throughout monorepo"},g=void 0,u={id:"examples/sync-engines-in-monorepo",title:"Manage npm engines throughout monorepo",description:"",source:"@site/docs/examples/sync-engines-in-monorepo.mdx",sourceDirName:"examples",slug:"/examples/sync-engines-in-monorepo",permalink:"/syncpack/examples/sync-engines-in-monorepo",draft:!1,unlisted:!1,editUrl:"https://github.com/JamieMason/syncpack/tree/main/site/docs/examples/sync-engines-in-monorepo.mdx",tags:[],version:"current",lastUpdatedBy:"Jamie Mason",lastUpdatedAt:1699631397,formattedLastUpdatedAt:"Nov 10, 2023",frontMatter:{title:"Manage npm engines throughout monorepo"},sidebar:"examples",previous:{title:"Pin local versions to pnpm workspace:*",permalink:"/syncpack/examples/pnpm-workspace-protocol"},next:{title:"Synchronise Node.js version in monorepo",permalink:"/syncpack/examples/sync-nodejs-version-in-monorepo"}},m={},k=[];function E(o){return(0,n.jsx)(d,{level:"h2"})}function f(o={}){const{wrapper:e}={...(0,s.a)(),...o.components};return e?(0,n.jsx)(e,{...o,children:(0,n.jsx)(E,{...o})}):E()}},6217:(o,e,t)=>{t.d(e,{Hx:()=>s});t(7294);var n=t(5893);function s(o){let{children:e,level:t}=o;return(0,n.jsx)(t,{children:e})}},292:(o,e,t)=>{t.d(e,{K:()=>n});const n={"@types":"https://github.com/DefinitelyTyped/DefinitelyTyped",awsSdk:"https://aws.amazon.com/sdk-for-javascript/",dependencies:"https://docs.npmjs.com/cli/v9/configuring-npm/package-json#dependencies",devDependencies:"https://docs.npmjs.com/cli/v9/configuring-npm/package-json#devDependencies",engines:"https://docs.npmjs.com/cli/v9/configuring-npm/package-json#engines",packageManager:"https://nodejs.org/api/packages.html#packagemanager",version:"https://docs.npmjs.com/cli/v9/configuring-npm/package-json#version",workspaceProtocol:"https://pnpm.io/workspaces#workspace-protocol-workspace"}}}]);