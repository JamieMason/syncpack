"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[7256],{8503:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>a,contentTitle:()=>l,default:()=>F,frontMatter:()=>c,metadata:()=>p,toc:()=>i});var n=t(5893),s=t(1151),r=(t(9960),t(4498));const c={title:"Ensure that semver ranges for a dependency all match each other"},l=void 0,p={id:"examples/ensure-versions-satisfy-same-range",title:"Ensure that semver ranges for a dependency all match each other",description:"",source:"@site/docs/examples/ensure-versions-satisfy-same-range.mdx",sourceDirName:"examples",slug:"/examples/ensure-versions-satisfy-same-range",permalink:"/syncpack/examples/ensure-versions-satisfy-same-range",draft:!1,unlisted:!1,editUrl:"https://github.com/JamieMason/syncpack/tree/main/site/docs/examples/ensure-versions-satisfy-same-range.mdx",tags:[],version:"current",lastUpdatedBy:"Jamie Mason",lastUpdatedAt:1699206228,formattedLastUpdatedAt:"Nov 5, 2023",frontMatter:{title:"Ensure that semver ranges for a dependency all match each other"},sidebar:"examples",previous:{title:"Ban dependency from monorepo",permalink:"/syncpack/examples/ban-dependency-from-monorepo"},next:{title:"Ensure AWS SDK dependencies always have the same version",permalink:"/syncpack/examples/fix-aws-sdk-version-mismatch"}},a={},i=[];function d(e){return(0,n.jsx)(r.ZP,{level:"h2"})}function F(e={}){const{wrapper:o}={...(0,s.a)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(d,{...e})}):d()}},4498:(e,o,t)=>{t.d(o,{ZP:()=>i});var n=t(5893),s=t(1151),r=t(9794),c=t(9960);t(292),t(6217);const l={annotations:r.ds,Code:r.EK},p={staticMediaQuery:"not screen, (max-width: 768px)",lineNumbers:void 0,showCopyButton:!0,themeName:"dracula"};function a(e){const o={admonition:"admonition",code:"code",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return l||d("CH",!1),l.Code||d("CH.Code",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("style",{dangerouslySetInnerHTML:{__html:'[data-ch-theme="dracula"] {  --ch-t-colorScheme: dark;--ch-t-foreground: #F8F8F2;--ch-t-background: #282A36;--ch-t-lighter-inlineBackground: #282a36e6;--ch-t-editor-background: #282A36;--ch-t-editor-foreground: #F8F8F2;--ch-t-editor-rangeHighlightBackground: #BD93F915;--ch-t-editor-infoForeground: #3794FF;--ch-t-editor-selectionBackground: #44475A;--ch-t-focusBorder: #6272A4;--ch-t-tab-activeBackground: #282A36;--ch-t-tab-activeForeground: #F8F8F2;--ch-t-tab-inactiveBackground: #21222C;--ch-t-tab-inactiveForeground: #6272A4;--ch-t-tab-border: #191A21;--ch-t-tab-activeBorder: #282A36;--ch-t-editorGroup-border: #BD93F9;--ch-t-editorGroupHeader-tabsBackground: #191A21;--ch-t-editorLineNumber-foreground: #6272A4;--ch-t-input-background: #282A36;--ch-t-input-foreground: #F8F8F2;--ch-t-input-border: #191A21;--ch-t-icon-foreground: #C5C5C5;--ch-t-sideBar-background: #21222C;--ch-t-sideBar-foreground: #F8F8F2;--ch-t-sideBar-border: #21222C;--ch-t-list-activeSelectionBackground: #44475A;--ch-t-list-activeSelectionForeground: #F8F8F2;--ch-t-list-hoverBackground: #44475A75; }'}}),"\n","\n","\n","\n",(0,n.jsxs)(o.p,{children:["Add a ",(0,n.jsx)(c.Z,{to:"/config/version-groups/same-range",children:"Same Range Version Group"})," which allows local packages installed in ",(0,n.jsx)(o.code,{children:"devDependencies"})," or ",(0,n.jsx)(o.code,{children:"peerDependencies"})," to use different semver ranges, as long as they all match the local package version."]}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsxs)(o.li,{children:["An optional ",(0,n.jsx)(o.strong,{children:"label"})," can be added to document the rule."]}),"\n",(0,n.jsxs)(o.li,{children:["The ",(0,n.jsx)(o.strong,{children:"dependencies"})," array defines the names of the dependencies we want to target."]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.strong,{children:"dependencyTypes"})," results in these dependencies only being targeted by this group when they are located in ",(0,n.jsx)(o.code,{children:"devDependencies"})," or ",(0,n.jsx)(o.code,{children:"peerDependencies"}),"."]}),"\n",(0,n.jsxs)(o.li,{children:["The ",(0,n.jsx)(o.strong,{children:"policy"})," of ",(0,n.jsx)(o.strong,{children:"sameRange"})," states that these dependencies are considered valid if every range matches the others."]}),"\n"]}),"\n",(0,n.jsx)(l.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",title:'".syncpackrc"',focus:"",code:{lines:[{tokens:[{content:"{",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'  "',props:{style:{color:"#8BE9FE"}}},{content:"versionGroups",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"    {",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"label",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:": ",props:{style:{color:"#FF79C6"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"Ensure semver ranges for locally developed packages satisfy the local version",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:",",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"dependencies",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"@your-repo/node-client-plugin-retry",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:", ",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"@your-repo/node-client",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:", ",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"dashboard-ui",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"],",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"dependencyTypes",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"dev",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:", ",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"peer",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"],",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"policy",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:": ",props:{style:{color:"#FF79C6"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"sameRange",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}}]},{tokens:[{content:"    }",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"  ]",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"}",props:{style:{color:"#F8F8F2"}}}]}],lang:"json"},annotations:[]}]}),"\n",(0,n.jsxs)(o.admonition,{type:"tip",children:[(0,n.jsxs)(o.p,{children:["The above example can be shortened: The ",(0,n.jsx)(o.code,{children:"$LOCAL"})," keyword is a helper to avoid writing out the names of every local package."]}),(0,n.jsx)(l.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:'"dependencies": [',props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'+  "$LOCAL"',props:{style:{color:"#50FA7B"}}}]},{tokens:[{content:'-  "@your-repo/node-client-plugin-retry",',props:{style:{color:"#FF5555"}}}]},{tokens:[{content:'-  "@your-repo/node-client",',props:{style:{color:"#FF5555"}}}]},{tokens:[{content:'-  "dashboard-ui"',props:{style:{color:"#FF5555"}}}]},{tokens:[{content:"],",props:{style:{color:"#F8F8F2"}}}]}],lang:"diff"},annotations:[]}]})]})]})}function i(e={}){const{wrapper:o}={...(0,s.a)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(a,{...e})}):a(e)}function d(e,o){throw new Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},6217:(e,o,t)=>{t.d(o,{Hx:()=>s});t(7294);var n=t(5893);function s(e){let{children:o,level:t}=e;return(0,n.jsx)(t,{children:o})}},292:(e,o,t)=>{t.d(o,{K:()=>n});const n={"@types":"https://github.com/DefinitelyTyped/DefinitelyTyped",awsSdk:"https://aws.amazon.com/sdk-for-javascript/",dependencies:"https://docs.npmjs.com/cli/v9/configuring-npm/package-json#dependencies",devDependencies:"https://docs.npmjs.com/cli/v9/configuring-npm/package-json#devDependencies",engines:"https://docs.npmjs.com/cli/v9/configuring-npm/package-json#engines",packageManager:"https://nodejs.org/api/packages.html#packagemanager",version:"https://docs.npmjs.com/cli/v9/configuring-npm/package-json#version",workspaceProtocol:"https://pnpm.io/workspaces#workspace-protocol-workspace"}}}]);