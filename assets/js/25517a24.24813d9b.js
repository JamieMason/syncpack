"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[6621],{3131:(e,o,n)=>{n.r(o),n.d(o,{CH:()=>u,assets:()=>y,chCodeConfig:()=>g,contentTitle:()=>F,default:()=>m,frontMatter:()=>d,metadata:()=>h,toc:()=>x});var t=n(5893),s=n(1151),r=n(9794),c=n(9960);function l(e){const o={code:"code",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.a)(),...e.components};return(0,t.jsxs)(o.table,{children:[(0,t.jsx)(o.thead,{children:(0,t.jsxs)(o.tr,{children:[(0,t.jsx)(o.th,{children:"Range"}),(0,t.jsx)(o.th,{children:"Example"})]})}),(0,t.jsxs)(o.tbody,{children:[(0,t.jsxs)(o.tr,{children:[(0,t.jsx)(o.td,{children:(0,t.jsx)(o.code,{children:"<"})}),(0,t.jsx)(o.td,{children:(0,t.jsx)(o.code,{children:"<1.4.2"})})]}),(0,t.jsxs)(o.tr,{children:[(0,t.jsx)(o.td,{children:(0,t.jsx)(o.code,{children:"<="})}),(0,t.jsx)(o.td,{children:(0,t.jsx)(o.code,{children:"<=1.4.2"})})]}),(0,t.jsxs)(o.tr,{children:[(0,t.jsx)(o.td,{children:(0,t.jsx)(o.code,{children:'""'})}),(0,t.jsx)(o.td,{children:(0,t.jsx)(o.code,{children:"1.4.2"})})]}),(0,t.jsxs)(o.tr,{children:[(0,t.jsx)(o.td,{children:(0,t.jsx)(o.code,{children:"~"})}),(0,t.jsx)(o.td,{children:(0,t.jsx)(o.code,{children:"~1.4.2"})})]}),(0,t.jsxs)(o.tr,{children:[(0,t.jsx)(o.td,{children:(0,t.jsx)(o.code,{children:"^"})}),(0,t.jsx)(o.td,{children:(0,t.jsx)(o.code,{children:"^1.4.2"})})]}),(0,t.jsxs)(o.tr,{children:[(0,t.jsx)(o.td,{children:(0,t.jsx)(o.code,{children:">="})}),(0,t.jsx)(o.td,{children:(0,t.jsx)(o.code,{children:">=1.4.2"})})]}),(0,t.jsxs)(o.tr,{children:[(0,t.jsx)(o.td,{children:(0,t.jsx)(o.code,{children:">"})}),(0,t.jsx)(o.td,{children:(0,t.jsx)(o.code,{children:">1.4.2"})})]}),(0,t.jsxs)(o.tr,{children:[(0,t.jsx)(o.td,{children:(0,t.jsx)(o.code,{children:"*"})}),(0,t.jsx)(o.td,{children:(0,t.jsx)(o.code,{children:"*"})})]})]})]})}function p(e={}){const{wrapper:o}={...(0,s.a)(),...e.components};return o?(0,t.jsx)(o,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}function i(e){return(0,t.jsxs)("span",{children:[(0,t.jsx)(c.Z,{to:"/config/version-groups/banned",children:"Banned"}),", ",(0,t.jsx)(c.Z,{to:"/config/version-groups/ignored",children:"Ignored"}),", ",(0,t.jsx)(c.Z,{to:"/config/version-groups/lowest-version",children:"Lowest Version"}),", ",(0,t.jsx)(c.Z,{to:"/config/version-groups/pinned",children:"Pinned"}),", ",(0,t.jsx)(c.Z,{to:"/config/version-groups/same-range",children:"Same Range"}),", ",(0,t.jsx)(c.Z,{to:"/config/version-groups/snapped-to",children:"Snapped To"}),", and ",(0,t.jsx)(c.Z,{to:"/config/version-groups/standard",children:"Standard"})]})}function a(e={}){const{wrapper:o}={...(0,s.a)(),...e.components};return o?(0,t.jsx)(o,{...e,children:(0,t.jsx)(i,{...e})}):i()}const d={id:"getting-started",title:"Getting Started"},F=void 0,h={id:"guide/getting-started",title:"Getting Started",description:"Syncpack is a command-line tool to manage multiple package.json files.",source:"@site/docs/guide/getting-started.mdx",sourceDirName:"guide",slug:"/guide/getting-started",permalink:"/syncpack/guide/getting-started",draft:!1,unlisted:!1,editUrl:"https://github.com/JamieMason/syncpack/tree/main/site/docs/guide/getting-started.mdx",tags:[],version:"current",lastUpdatedBy:"Jamie Mason",lastUpdatedAt:1699300201,formattedLastUpdatedAt:"Nov 6, 2023",frontMatter:{id:"getting-started",title:"Getting Started"},sidebar:"docs",next:{title:"Local Package Versions",permalink:"/syncpack/guide/local-package-versions"}},y={},u={annotations:r.ds,Code:r.EK},g={staticMediaQuery:"not screen, (max-width: 768px)",lineNumbers:void 0,showCopyButton:!0,themeName:"dracula"},x=[{value:"Quick run",id:"quick-run",level:2},{value:"Install",id:"install",level:2},{value:"Run",id:"run",level:2},{value:"Start Small",id:"start-small",level:2},{value:"<code>peerDependencies</code>",id:"peerdependencies",level:3},{value:"<code>workspace:*</code>",id:"workspace",level:3},{value:"Audit",id:"audit",level:2},{value:"Semver Ranges",id:"semver-ranges",level:2},{value:"Adding overrides",id:"adding-overrides",level:3},{value:"Version Mismatches",id:"version-mismatches",level:2},{value:"Adding overrides",id:"adding-overrides-1",level:3},{value:"Version Groups",id:"version-groups",level:3},{value:"Incompatible packages using the same framework",id:"incompatible-packages-using-the-same-framework",level:4},{value:"Keep going",id:"keep-going",level:2},{value:"Update monorepo dependencies",id:"update-monorepo-dependencies",level:2},{value:"Next Steps",id:"next-steps",level:2}];function j(e){const o={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,s.a)(),...e.components},{Details:n}=o;return u||E("CH",!1),u.Code||E("CH.Code",!0),n||E("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("style",{dangerouslySetInnerHTML:{__html:'[data-ch-theme="dracula"] {  --ch-t-colorScheme: dark;--ch-t-foreground: #F8F8F2;--ch-t-background: #282A36;--ch-t-lighter-inlineBackground: #282a36e6;--ch-t-editor-background: #282A36;--ch-t-editor-foreground: #F8F8F2;--ch-t-editor-rangeHighlightBackground: #BD93F915;--ch-t-editor-infoForeground: #3794FF;--ch-t-editor-selectionBackground: #44475A;--ch-t-focusBorder: #6272A4;--ch-t-tab-activeBackground: #282A36;--ch-t-tab-activeForeground: #F8F8F2;--ch-t-tab-inactiveBackground: #21222C;--ch-t-tab-inactiveForeground: #6272A4;--ch-t-tab-border: #191A21;--ch-t-tab-activeBorder: #282A36;--ch-t-editorGroup-border: #BD93F9;--ch-t-editorGroupHeader-tabsBackground: #191A21;--ch-t-editorLineNumber-foreground: #6272A4;--ch-t-input-background: #282A36;--ch-t-input-foreground: #F8F8F2;--ch-t-input-border: #191A21;--ch-t-icon-foreground: #C5C5C5;--ch-t-sideBar-background: #21222C;--ch-t-sideBar-foreground: #F8F8F2;--ch-t-sideBar-border: #21222C;--ch-t-list-activeSelectionBackground: #44475A;--ch-t-list-activeSelectionForeground: #F8F8F2;--ch-t-list-hoverBackground: #44475A75; }'}}),"\n","\n","\n",(0,t.jsx)(o.p,{children:"Syncpack is a command-line tool to manage multiple package.json files."}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:"Find and fix dependency version mismatches."}),"\n",(0,t.jsx)(o.li,{children:"Enforce a single version policy, or create partitions with separate policies."}),"\n",(0,t.jsx)(o.li,{children:"Find and bump outdated versions from the npm registry."}),"\n",(0,t.jsx)(o.li,{children:"Ensure some dependencies always remain pinned at a specific version."}),"\n",(0,t.jsx)(o.li,{children:"Ban some dependencies from being used: anywhere, or in specific places."}),"\n",(0,t.jsx)(o.li,{children:"Define rules for where exact or loose semver ranges should be used."}),"\n",(0,t.jsx)(o.li,{children:"Assign packages as the source of truth for specific dependencies' versions."}),"\n",(0,t.jsx)(o.li,{children:"Sort and format package.json files consistently."}),"\n"]}),"\n",(0,t.jsx)(o.h2,{id:"quick-run",children:"Quick run"}),"\n",(0,t.jsxs)(o.p,{children:["The quickest way to run syncpack to try it is via ",(0,t.jsx)(o.a,{href:"https://docs.npmjs.com/cli/v7/commands/npx",children:"npx"}),"."]}),"\n",(0,t.jsx)(u.Code,{codeConfig:g,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"npx ",props:{style:{color:"#F8F8F2"}}},{content:"syncpack list",props:{style:{color:"#F1FA8C"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,t.jsx)(o.h2,{id:"install",children:"Install"}),"\n",(0,t.jsx)(o.p,{children:"It's best to install syncpack as a dev dependency, so that everyone working on your project uses the same version."}),"\n",(0,t.jsx)(u.Code,{codeConfig:g,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"npm ",props:{style:{color:"#F8F8F2"}}},{content:"install syncpack ",props:{style:{color:"#F1FA8C"}}},{content:"--save-dev",props:{style:{color:"#BD93F9"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,t.jsxs)(o.p,{children:["Anyone on the team can now use ",(0,t.jsx)(o.a,{href:"https://docs.npmjs.com/cli/v10/commands/npm-exec",children:"npm exec"})," to access their local installation of syncpack:"]}),"\n",(0,t.jsx)(u.Code,{codeConfig:g,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"npm ",props:{style:{color:"#F8F8F2"}}},{content:"exec syncpack ",props:{style:{color:"#F1FA8C"}}},{content:"-- ",props:{style:{color:"#BD93F9"}}},{content:"list",props:{style:{color:"#F1FA8C"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,t.jsx)(o.p,{children:"For the rest of this guide I will run synpack as if it is installed globally."}),"\n",(0,t.jsx)(o.h2,{id:"run",children:"Run"}),"\n",(0,t.jsx)(o.p,{children:"List every dependency in every package.json file in the project:"}),"\n",(0,t.jsx)(u.Code,{codeConfig:g,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"syncpack ",props:{style:{color:"#F8F8F2"}}},{content:"list",props:{style:{color:"#F1FA8C"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,t.jsxs)(o.p,{children:["List only the contents of the ",(0,t.jsx)(o.code,{children:"dependencies"})," and ",(0,t.jsx)(o.code,{children:"devDependencies"})," objects:"]}),"\n",(0,t.jsx)(u.Code,{codeConfig:g,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"syncpack ",props:{style:{color:"#F8F8F2"}}},{content:"list ",props:{style:{color:"#F1FA8C"}}},{content:"--types ",props:{style:{color:"#BD93F9"}}},{content:"dev,prod",props:{style:{color:"#F1FA8C"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,t.jsx)(o.p,{children:"List the versions of packages developed in this project:"}),"\n",(0,t.jsx)(u.Code,{codeConfig:g,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"syncpack ",props:{style:{color:"#F8F8F2"}}},{content:"list ",props:{style:{color:"#F1FA8C"}}},{content:"--types ",props:{style:{color:"#BD93F9"}}},{content:"local",props:{style:{color:"#F1FA8C"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,t.jsx)(o.h2,{id:"start-small",children:"Start Small"}),"\n",(0,t.jsx)(o.p,{children:"When setting up a project, I'd recommend that you start small and focus on only production dependencies. Monorepos are large and complex and I think it's better to tackle them in stages."}),"\n",(0,t.jsx)(o.p,{children:"Create the following config file in the root of your project:"}),"\n",(0,t.jsx)(u.Code,{codeConfig:g,northPanel:{tabs:[".syncpackrc"],active:".syncpackrc",heightRatio:1},files:[{name:".syncpackrc",focus:"",code:{lines:[{tokens:[{content:"{",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'  "',props:{style:{color:"#8BE9FE"}}},{content:"dependencyTypes",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"prod",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"]",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"}",props:{style:{color:"#F8F8F2"}}}]}],lang:"json"},annotations:[]}]}),"\n",(0,t.jsxs)(o.p,{children:["Now syncpack commands will only inspect the ",(0,t.jsx)(o.code,{children:"dependencies"})," properties of package.json files."]}),"\n",(0,t.jsxs)(o.admonition,{title:"Why start small?",type:"tip",children:[(0,t.jsx)(o.p,{children:"If you have a monorepo-wide single version policy which applies universally without exception, you will not need to define any configuration, but most projects are not like that."}),(0,t.jsx)(o.p,{children:"Here are two common examples where a single version policy is unsuitable."}),(0,t.jsxs)(o.ol,{children:["\n",(0,t.jsxs)(o.li,{children:["\n",(0,t.jsx)(o.h3,{id:"peerdependencies",children:(0,t.jsx)(o.code,{children:"peerDependencies"})}),"\n",(0,t.jsxs)(o.p,{children:["One of the packages you develop is an ESLint Plugin and in its ",(0,t.jsx)(o.code,{children:"peerDependencies"})," you define a range of ",(0,t.jsx)(o.code,{children:'"eslint": ">=6.0.0 <9.0.0"'})," for the ESLint versions it is compatible with."]}),"\n",(0,t.jsxs)(o.p,{children:["In the root package.json you have ",(0,t.jsx)(o.code,{children:'"eslint": "8.53.0"'})," installed under ",(0,t.jsx)(o.code,{children:"devDependencies"})," because you use ESLint to lint the monorepo."]}),"\n",(0,t.jsx)(o.p,{children:"That's a version mismatch because ESLint is referenced twice with different versions. As Developers on the project we know this is Ok but a tool like syncpack can't know whether any given mismatch is deliberate or a mistake, without information about the project."}),"\n"]}),"\n",(0,t.jsxs)(o.li,{children:["\n",(0,t.jsx)(o.h3,{id:"workspace",children:(0,t.jsx)(o.code,{children:"workspace:*"})}),"\n",(0,t.jsxs)(o.p,{children:["Projects using the ",(0,t.jsx)(c.Z,{to:"https://pnpm.io/workspaces#workspace-protocol-workspace",children:"pnpm workspace protocol"})," may use ",(0,t.jsx)(o.code,{children:"workspace:*"})," when referencing a local package in ",(0,t.jsx)(o.code,{children:"devDependencies"}),", but the latest semver version in ",(0,t.jsx)(o.code,{children:"dependencies"})," so it is understood by other package managers."]}),"\n",(0,t.jsx)(o.p,{children:"Again, this is a mismatch but a deliberate one which syncpack needs to be informed of."}),"\n"]}),"\n"]})]}),"\n",(0,t.jsx)(o.h2,{id:"audit",children:"Audit"}),"\n",(0,t.jsx)(o.p,{children:"Now take a look at your production dependencies:"}),"\n",(0,t.jsx)(u.Code,{codeConfig:g,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"syncpack ",props:{style:{color:"#F8F8F2"}}},{content:"list",props:{style:{color:"#F1FA8C"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,t.jsxs)(o.p,{children:["You will likely see some warnings, and each warning will display an error code to identify the reason it is invalid. Every warning is explained in the ",(0,t.jsx)(c.Z,{to:"/status-codes",children:"Error Codes"})," documentation."]}),"\n",(0,t.jsx)(o.p,{children:"We'll look at how to fix mismatching versions, but first let's look at the semver ranges."}),"\n",(0,t.jsx)(o.h2,{id:"semver-ranges",children:"Semver Ranges"}),"\n",(0,t.jsxs)(n,{children:[(0,t.jsx)("summary",{children:"Examples of Semver Ranges"}),(0,t.jsx)(p,{})]}),"\n",(0,t.jsxs)(o.p,{children:["Looking at your ",(0,t.jsx)(o.code,{children:"syncpack list"})," output, which semver range is used in the majority of cases?"]}),"\n",(0,t.jsx)(o.p,{children:"Supposing you prefer exact version numbers, you can define a policy to standardise them:"}),"\n",(0,t.jsx)(u.Code,{codeConfig:g,northPanel:{tabs:[".syncpackrc"],active:".syncpackrc",heightRatio:1},files:[{name:".syncpackrc",focus:"3:11",code:{lines:[{tokens:[{content:"{",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'  "',props:{style:{color:"#8BE9FE"}}},{content:"dependencyTypes",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"prod",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"],",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'  "',props:{style:{color:"#8BE9FE"}}},{content:"semverGroups",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"    {",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"label",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:": ",props:{style:{color:"#FF79C6"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"use exact version numbers in production",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:",",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"packages",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"**",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"],",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"dependencyTypes",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"prod",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"],",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"dependencies",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"**",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"],",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"range",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:": ",props:{style:{color:"#FF79C6"}}},{content:'""',props:{style:{color:"#E9F284"}}}]},{tokens:[{content:"    }",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"  ]",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"}",props:{style:{color:"#F8F8F2"}}}]}],lang:"json"},annotations:[]}]}),"\n",(0,t.jsx)(o.admonition,{type:"tip",children:(0,t.jsxs)(o.p,{children:[(0,t.jsx)(c.Z,{to:"/config/semver-groups/with-range#packages",children:"packages"})," and ",(0,t.jsx)(c.Z,{to:"/config/semver-groups/with-range#dependencies",children:"dependencies"})," match all by default, so you can remove those properties from your config if you prefer."]})}),"\n",(0,t.jsxs)(o.p,{children:["What we've created is called a ",(0,t.jsx)(c.Z,{to:"/config/semver-groups/with-range",children:"Semver Group"}),". Whenever syncpack finds an ",(0,t.jsx)(c.Z,{to:"#whats-an-instance",children:"instance of a dependency"}),", it walks through your ",(0,t.jsx)(o.code,{children:"semverGroups"})," array in source code order until it finds a match \u2013 the first match wins and syncpack stops searching. An instance can only belong to one Semver Group (and one ",(0,t.jsx)(c.Z,{to:"/config/version-groups/standard",children:"Version Group"}),", which we'll see later) and the groups an instance belongs to define the rules that form its version policy."]}),"\n",(0,t.jsxs)(o.p,{children:["In our case we've decided that every instance under a ",(0,t.jsx)(o.code,{children:"dependencies"})," object must always have a semver range of ",(0,t.jsx)(o.code,{children:'""'})," for an exact version number."]}),"\n",(0,t.jsx)("div",{id:"whats-an-instance",children:(0,t.jsxs)(o.admonition,{title:"What's an instance of a dependency?",type:"info",children:[(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:"There are 4 packages in your monorepo (A, B, C, and D)."}),"\n",(0,t.jsxs)(o.li,{children:["A B C D all depend on ",(0,t.jsx)(o.code,{children:"uuid"}),"."]}),"\n",(0,t.jsxs)(o.li,{children:["A B C each have it under ",(0,t.jsx)(o.code,{children:"dependencies"})," (3x)."]}),"\n",(0,t.jsxs)(o.li,{children:["D has it under ",(0,t.jsx)(o.code,{children:"devDependencies"})," and ",(0,t.jsx)(o.code,{children:"peerDependencies"})," (2x)."]}),"\n"]}),(0,t.jsxs)(o.p,{children:['There are 5 "instances" of the dependency ',(0,t.jsx)(o.code,{children:"uuid"}),"."]})]})}),"\n",(0,t.jsx)(o.p,{children:"We can now check the semver ranges of our production dependencies:"}),"\n",(0,t.jsx)(u.Code,{codeConfig:g,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"syncpack ",props:{style:{color:"#F8F8F2"}}},{content:"lint-semver-ranges",props:{style:{color:"#F1FA8C"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,t.jsx)(o.p,{children:"...fix them"}),"\n",(0,t.jsx)(u.Code,{codeConfig:g,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"syncpack ",props:{style:{color:"#F8F8F2"}}},{content:"set-semver-ranges",props:{style:{color:"#F1FA8C"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,t.jsx)(o.p,{children:"...and see that they are now valid"}),"\n",(0,t.jsx)(u.Code,{codeConfig:g,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"syncpack ",props:{style:{color:"#F8F8F2"}}},{content:"lint-semver-ranges",props:{style:{color:"#F1FA8C"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,t.jsx)(o.h3,{id:"adding-overrides",children:"Adding overrides"}),"\n",(0,t.jsxs)(o.p,{children:["Sometimes you will have exceptions to a rule, instances which for whatever reason can't conform to a broader policy and need special treatment. To override a Semver or Version Group, define a more specific one nearer the start of the ",(0,t.jsx)(o.code,{children:"semverGroups"})," or ",(0,t.jsx)(o.code,{children:"versionGroups"})," array."]}),"\n",(0,t.jsxs)(o.p,{children:["For example, to use ",(0,t.jsx)(o.code,{children:"^"})," in just one package we could use the following config, where ",(0,t.jsx)(o.code,{children:"dashboard-ui"})," is the ",(0,t.jsx)(o.code,{children:"name"})," property of the package.json file we want to make an exception for."]}),"\n",(0,t.jsx)(u.Code,{codeConfig:g,northPanel:{tabs:[".syncpackrc"],active:".syncpackrc",heightRatio:1},files:[{name:".syncpackrc",focus:"4:10",code:{lines:[{tokens:[{content:"{",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'  "',props:{style:{color:"#8BE9FE"}}},{content:"dependencyTypes",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"prod",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"],",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'  "',props:{style:{color:"#8BE9FE"}}},{content:"semverGroups",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"    {",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"label",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:": ",props:{style:{color:"#FF79C6"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"use caret ranges in the dashboard-ui in production",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:",",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"packages",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"dashboard-ui",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"],",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"dependencyTypes",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"prod",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"],",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"dependencies",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"**",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"],",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"range",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:": ",props:{style:{color:"#FF79C6"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"^",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}}]},{tokens:[{content:"    },",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"    {",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"label",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:": ",props:{style:{color:"#FF79C6"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"use exact version numbers in production",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:",",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"packages",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"**",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"],",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"dependencyTypes",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"prod",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"],",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"dependencies",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"**",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"],",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"range",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:": ",props:{style:{color:"#FF79C6"}}},{content:'""',props:{style:{color:"#E9F284"}}}]},{tokens:[{content:"    }",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"  ]",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"}",props:{style:{color:"#F8F8F2"}}}]}],lang:"json"},annotations:[]}]}),"\n",(0,t.jsxs)(o.admonition,{title:"Order groups by most to least specific",type:"info",children:[(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:"Syncpack matches instances against each group from first to last."}),"\n",(0,t.jsx)(o.li,{children:"The first group which matches a given instance wins and syncpack stops searching."}),"\n",(0,t.jsxs)(o.li,{children:["The ",(0,t.jsx)(o.code,{children:"^"})," group we just added requires that an instance be located in ",(0,t.jsx)(o.code,{children:"dependencies"})," ",(0,t.jsx)(o.em,{children:"and"})," in a local package.json file with a ",(0,t.jsx)(o.code,{children:"name"})," property of ",(0,t.jsx)(o.code,{children:"dashboard-ui"}),"."]}),"\n",(0,t.jsxs)(o.li,{children:["The ",(0,t.jsx)(o.code,{children:'""'})," group only requires that an instance be located in ",(0,t.jsx)(o.code,{children:"dependencies"})," and nothing more."]}),"\n"]}),(0,t.jsxs)(o.p,{children:["So our new ",(0,t.jsx)(o.code,{children:"^"})," group must appear before the ",(0,t.jsx)(o.code,{children:'""'})," group or else the more generic requirements of only needing to be in ",(0,t.jsx)(o.code,{children:"dependencies"})," would win out and syncpack would stop searching before looking at which package the instance is in."]})]}),"\n",(0,t.jsxs)(o.p,{children:["Now when we run ",(0,t.jsx)(o.code,{children:"syncpack lint-semver-ranges"})," we will see that ",(0,t.jsx)(o.code,{children:"dashboard-ui"})," is invalid because we updated out configuration to expect caret ranges and haven't updated them yet. When we run ",(0,t.jsx)(o.code,{children:"syncpack set-semver-ranges"})," they are fixed to have caret ranges as expected. The rest of the monorepo continues to use exact version numbers for production dependencies."]}),"\n",(0,t.jsx)(o.h2,{id:"version-mismatches",children:"Version Mismatches"}),"\n",(0,t.jsxs)(o.p,{children:["Now that we're using consistent semver ranges under ",(0,t.jsx)(o.code,{children:"dependencies"}),", let's return to version mismatches."]}),"\n",(0,t.jsx)(u.Code,{codeConfig:g,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"syncpack ",props:{style:{color:"#F8F8F2"}}},{content:"list-mismatches",props:{style:{color:"#F1FA8C"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,t.jsxs)(o.p,{children:["The most common of syncpack's ",(0,t.jsx)(c.Z,{to:"/status-codes",children:"Error Codes"})," is ",(0,t.jsx)(o.code,{children:"HighestSemverMismatch"})," which tells us that all versions used for that dependency are valid semver, but they are not identical and the one with the highest semver version should be used by all."]}),"\n",(0,t.jsx)(o.p,{children:"If you don't have any special requirements, they can be fixed automatically"}),"\n",(0,t.jsx)(u.Code,{codeConfig:g,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"syncpack ",props:{style:{color:"#F8F8F2"}}},{content:"fix-mismatches",props:{style:{color:"#F1FA8C"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,t.jsxs)(o.p,{children:["If you see ",(0,t.jsx)(o.code,{children:"UnsupportedMismatch"})," warnings, those are cases where there is no semver version (such as a reference to a file or a git hash) and syncpack cannot know what you would want to do."]}),"\n",(0,t.jsx)(o.p,{children:"You can resolve those using an interactive walkthrough:"}),"\n",(0,t.jsx)(u.Code,{codeConfig:g,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"syncpack ",props:{style:{color:"#F8F8F2"}}},{content:"prompt",props:{style:{color:"#F1FA8C"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,t.jsx)(o.h3,{id:"adding-overrides-1",children:"Adding overrides"}),"\n",(0,t.jsxs)(o.p,{children:["We saw earlier how to handle overrides for ",(0,t.jsx)(c.Z,{to:"/config/semver-groups/with-range",children:"Semver Groups"})," and ",(0,t.jsx)(c.Z,{to:"/config/version-groups/standard",children:"Version Groups"})," work in exactly the same way."]}),"\n",(0,t.jsx)(o.p,{children:"A group can be applied to an entire monorepo, specific instances, or anything in between. Groups can be layered over others to apply overrides as we saw in the previous section."}),"\n",(0,t.jsxs)(o.p,{children:["You should hopefully now have a good intuition for how instances get assigned to groups. All that remains is to choose groups which exhibit the behaviour you need and to apply combinations of the ",(0,t.jsx)(c.Z,{to:"/config/version-groups/standard#dependencies",children:"dependencies"}),", ",(0,t.jsx)(c.Z,{to:"/config/version-groups/standard#dependencyTypes",children:"dependencyTypes"}),", and ",(0,t.jsx)(c.Z,{to:"/config/version-groups/standard#packages",children:"packages"})," properties to them to target the instances you need to."]}),"\n",(0,t.jsx)(o.p,{children:"Version Groups provide a lot of really useful functionality, let's look at them some more."}),"\n",(0,t.jsx)(o.h3,{id:"version-groups",children:"Version Groups"}),"\n",(0,t.jsx)(o.p,{children:"Version Groups create partitions where dependencies inside each group can be internally consistent, without affecting the other groups. They let you handle special cases or provide more specific rules for what to do in certain situations and are best understood by looking at some example use cases."}),"\n",(0,t.jsx)(o.h4,{id:"incompatible-packages-using-the-same-framework",children:"Incompatible packages using the same framework"}),"\n",(0,t.jsx)(o.p,{children:"A 3rd party framework has had a major update which requires breaking changes but some of your packages can't easily be upgraded and will need to remain on an older version, while the rest are able to upgrade today."}),"\n",(0,t.jsxs)(o.ol,{children:["\n",(0,t.jsxs)(o.li,{children:["You ",(0,t.jsx)(o.strong,{children:"don't"})," want mismatches between your packages using the latest version of the framework - they should all use eg. ",(0,t.jsx)(o.code,{children:"next@13.1.6"})," and ",(0,t.jsx)(o.code,{children:"react@18.2.0"}),"."]}),"\n",(0,t.jsxs)(o.li,{children:["You ",(0,t.jsx)(o.strong,{children:"don't"})," want mismatches between the packages using the old version - they should all use eg. ",(0,t.jsx)(o.code,{children:"next@11.1.4"})," and ",(0,t.jsx)(o.code,{children:"react@17.0.2"}),"."]}),"\n",(0,t.jsxs)(o.li,{children:["You ",(0,t.jsx)(o.strong,{children:"do"})," want those groups to use ",(0,t.jsx)(o.strong,{children:"different versions to each other"})," and not have Syncpack make them all the same."]}),"\n",(0,t.jsxs)(o.li,{children:["You only have this problem with ",(0,t.jsx)(o.code,{children:"next"})," and ",(0,t.jsx)(o.code,{children:"react"}),", other dependencies can continue to be kept consistent with each other throughout the full monorepo."]}),"\n"]}),"\n",(0,t.jsx)(u.Code,{codeConfig:g,northPanel:{tabs:[".syncpackrc"],active:".syncpackrc",heightRatio:1},files:[{name:".syncpackrc",focus:"19:26",code:{lines:[{tokens:[{content:"{",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'  "',props:{style:{color:"#8BE9FE"}}},{content:"dependencyTypes",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"prod",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"],",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'  "',props:{style:{color:"#8BE9FE"}}},{content:"semverGroups",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"    {",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"label",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:": ",props:{style:{color:"#FF79C6"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"use caret ranges in the dashboard-ui in production",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:",",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"packages",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"dashboard-ui",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"],",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"dependencyTypes",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"prod",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"],",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"dependencies",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"**",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"],",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"range",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:": ",props:{style:{color:"#FF79C6"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"^",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}}]},{tokens:[{content:"    },",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"    {",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"label",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:": ",props:{style:{color:"#FF79C6"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"use exact version numbers in production",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:",",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"packages",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"**",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"],",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"dependencyTypes",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"prod",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"],",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"dependencies",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"**",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"],",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"range",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:": ",props:{style:{color:"#FF79C6"}}},{content:'""',props:{style:{color:"#E9F284"}}}]},{tokens:[{content:"    }",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"  ],",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'  "',props:{style:{color:"#8BE9FE"}}},{content:"versionGroups",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"    {",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"label",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:": ",props:{style:{color:"#FF79C6"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"These packages are stuck on next@11 for now",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:",",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"packages",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"@stricken/server",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:", ",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"@stricken/ui",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"],",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"dependencyTypes",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"prod",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"],",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"dependencies",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"next",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:", ",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"react",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:", ",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"react-dom",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"]",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"    }",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"  ]",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"}",props:{style:{color:"#F8F8F2"}}}]}],lang:"json"},annotations:[]}]}),"\n",(0,t.jsx)(o.admonition,{title:"Syncpack will make ensure that",type:"info",children:(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsxs)(o.li,{children:["The versions of ",(0,t.jsx)(o.code,{children:"next"})," and ",(0,t.jsx)(o.code,{children:"react"}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsxs)(o.li,{children:["Are the same between ",(0,t.jsx)(o.code,{children:"@stricken/server"})," and ",(0,t.jsx)(o.code,{children:"@stricken/ui"}),"."]}),"\n",(0,t.jsxs)(o.li,{children:["Are the same across every package ",(0,t.jsx)(o.strong,{children:"except"})," ",(0,t.jsx)(o.code,{children:"@stricken/server"})," and ",(0,t.jsx)(o.code,{children:"@stricken/ui"}),"."]}),"\n",(0,t.jsxs)(o.li,{children:["Can be different in ",(0,t.jsx)(o.code,{children:"@stricken/server"})," and ",(0,t.jsx)(o.code,{children:"@stricken/ui"})," to the other packages."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(o.li,{children:["The versions of every ",(0,t.jsx)(o.strong,{children:"other"})," dependency in the monorepo (eg ",(0,t.jsx)(o.code,{children:"lodash"}),") are the same across every package ",(0,t.jsx)(o.strong,{children:"including"})," ",(0,t.jsx)(o.code,{children:"@stricken/server"})," and ",(0,t.jsx)(o.code,{children:"@stricken/ui"}),"."]}),"\n"]})}),"\n",(0,t.jsx)(o.h2,{id:"keep-going",children:"Keep going"}),"\n",(0,t.jsxs)(o.admonition,{type:"warning",children:[(0,t.jsxs)(o.mdxAdmonitionTitle,{children:["Remember, We've only been linting ",(0,t.jsx)(o.code,{children:"dependencies"})]}),(0,t.jsxs)(o.p,{children:["At the start of this guide we used ",(0,t.jsx)(c.Z,{to:"/config/dependency-types",children:"dependencyTypes"})," to configure syncpack to only look at ",(0,t.jsx)(o.code,{children:"dependencies"}),", so the rest of our monorepo is currently being ignored."]}),(0,t.jsxs)(o.p,{children:["Move onto ",(0,t.jsx)(o.code,{children:"dev"})," for ",(0,t.jsx)(o.code,{children:"devDependencies"})," next and repeat the process we just followed."]}),(0,t.jsx)(u.Code,{codeConfig:g,northPanel:{tabs:[".syncpackrc"],active:".syncpackrc",heightRatio:1},files:[{name:".syncpackrc",focus:"2[31:35]",code:{lines:[{tokens:[{content:"{",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'  "',props:{style:{color:"#8BE9FE"}}},{content:"dependencyTypes",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"prod",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:", ",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"dev",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"]",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"}",props:{style:{color:"#F8F8F2"}}}]}],lang:"json"},annotations:[]}]}),(0,t.jsxs)(o.p,{children:["Then do the same for ",(0,t.jsx)(o.code,{children:"local"})," (versions of your local packages) and ",(0,t.jsx)(o.code,{children:"peer"})," (",(0,t.jsx)(o.code,{children:"peerDependencies"}),")."]})]}),"\n",(0,t.jsx)(o.h2,{id:"update-monorepo-dependencies",children:"Update monorepo dependencies"}),"\n",(0,t.jsx)(o.p,{children:"Syncpack can also update dependencies to the latest versions from the npm registry and is best demonstrated by example."}),"\n",(0,t.jsx)(u.Code,{codeConfig:g,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"# update packages in `devDependencies` in the whole repo",props:{style:{color:"#6272A4"}}}]},{tokens:[{content:"syncpack ",props:{style:{color:"#F8F8F2"}}},{content:"update ",props:{style:{color:"#F1FA8C"}}},{content:"--types ",props:{style:{color:"#BD93F9"}}},{content:"dev",props:{style:{color:"#F1FA8C"}}}]},{tokens:[{content:"# update eslint related packages",props:{style:{color:"#6272A4"}}}]},{tokens:[{content:"syncpack ",props:{style:{color:"#F8F8F2"}}},{content:"update ",props:{style:{color:"#F1FA8C"}}},{content:"--filter ",props:{style:{color:"#BD93F9"}}},{content:"eslint",props:{style:{color:"#F1FA8C"}}}]},{tokens:[{content:"# update `dependencies` in just one package",props:{style:{color:"#6272A4"}}}]},{tokens:[{content:"syncpack ",props:{style:{color:"#F8F8F2"}}},{content:"update ",props:{style:{color:"#F1FA8C"}}},{content:"--source ",props:{style:{color:"#BD93F9"}}},{content:"packages/foo ",props:{style:{color:"#F1FA8C"}}},{content:"--types ",props:{style:{color:"#BD93F9"}}},{content:"prod",props:{style:{color:"#F1FA8C"}}}]},{tokens:[{content:"# update react related packages in `dependencies` only",props:{style:{color:"#6272A4"}}}]},{tokens:[{content:"syncpack ",props:{style:{color:"#F8F8F2"}}},{content:"update ",props:{style:{color:"#F1FA8C"}}},{content:"--filter ",props:{style:{color:"#BD93F9"}}},{content:"react ",props:{style:{color:"#F1FA8C"}}},{content:"--types ",props:{style:{color:"#BD93F9"}}},{content:"prod",props:{style:{color:"#F1FA8C"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,t.jsx)(o.p,{children:"You'll be guided through an interactive prompt to choose which updates you want to apply."}),"\n",(0,t.jsx)(o.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsxs)(o.li,{children:["Browse the ",(0,t.jsx)(c.Z,{to:"/examples",children:"Examples"})," to see some common use cases and how to handle them."]}),"\n",(0,t.jsxs)(o.li,{children:["See what other functionality is provided by Version Groups ",(0,t.jsx)(a,{}),"."]}),"\n",(0,t.jsxs)(o.li,{children:["Read the guide on ",(0,t.jsx)(c.Z,{to:"/guide/local-package-versions",children:"Local Package Versions"}),", which is an advanced topic."]}),"\n",(0,t.jsxs)(o.li,{children:["If you like Syncpack, ",(0,t.jsx)(o.strong,{children:"tell people about it"}),". Syncpack is a single person project done in what spare time I can find, has been an absolute ton of work, and is completely free."]}),"\n"]})]})}function m(e={}){const{wrapper:o}={...(0,s.a)(),...e.components};return o?(0,t.jsx)(o,{...e,children:(0,t.jsx)(j,{...e})}):j(e)}function E(e,o){throw new Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);