"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[5914],{3558:(e,o,t)=>{t.r(o),t.d(o,{CH:()=>y,assets:()=>h,chCodeConfig:()=>u,contentTitle:()=>a,default:()=>E,frontMatter:()=>d,metadata:()=>F,toc:()=>g});var n=t(5893),s=t(1151),r=t(9794),c=t(9960),l=t(292),p=t(1341),i=t(4498);const d={id:"local-package-versions",title:"Local Package Versions"},a=void 0,F={id:"guide/local-package-versions",title:"Local Package Versions",description:"This is an addendum to the Getting Started guide.",source:"@site/docs/guide/local-package-versions.mdx",sourceDirName:"guide",slug:"/guide/local-package-versions",permalink:"/syncpack/guide/local-package-versions",draft:!1,unlisted:!1,editUrl:"https://github.com/JamieMason/syncpack/tree/main/site/docs/guide/local-package-versions.mdx",tags:[],version:"current",lastUpdatedBy:"Jamie Mason",lastUpdatedAt:1699300201,formattedLastUpdatedAt:"Nov 6, 2023",frontMatter:{id:"local-package-versions",title:"Local Package Versions"},sidebar:"docs",previous:{title:"Getting Started",permalink:"/syncpack/guide/getting-started"},next:{title:"Semver Groups",permalink:"/syncpack/guide/semver-groups"}},h={},y={annotations:r.ds,Code:r.EK},u={staticMediaQuery:"not screen, (max-width: 768px)",lineNumbers:void 0,showCopyButton:!0,themeName:"dracula"},g=[{value:"Target Problem",id:"target-problem",level:2},{value:"The <code>local</code> dependency type",id:"the-local-dependency-type",level:2},{value:"Zero Configuration?",id:"zero-configuration",level:2},{value:"Possible Solutions",id:"possible-solutions",level:2}];function k(e){const o={code:"code",h2:"h2",li:"li",ol:"ol",p:"p",...(0,s.a)(),...e.components},{Details:t}=o;return y||j("CH",!1),y.Code||j("CH.Code",!0),t||j("Details",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("style",{dangerouslySetInnerHTML:{__html:'[data-ch-theme="dracula"] {  --ch-t-colorScheme: dark;--ch-t-foreground: #F8F8F2;--ch-t-background: #282A36;--ch-t-lighter-inlineBackground: #282a36e6;--ch-t-editor-background: #282A36;--ch-t-editor-foreground: #F8F8F2;--ch-t-editor-rangeHighlightBackground: #BD93F915;--ch-t-editor-infoForeground: #3794FF;--ch-t-editor-selectionBackground: #44475A;--ch-t-focusBorder: #6272A4;--ch-t-tab-activeBackground: #282A36;--ch-t-tab-activeForeground: #F8F8F2;--ch-t-tab-inactiveBackground: #21222C;--ch-t-tab-inactiveForeground: #6272A4;--ch-t-tab-border: #191A21;--ch-t-tab-activeBorder: #282A36;--ch-t-editorGroup-border: #BD93F9;--ch-t-editorGroupHeader-tabsBackground: #191A21;--ch-t-editorLineNumber-foreground: #6272A4;--ch-t-input-background: #282A36;--ch-t-input-foreground: #F8F8F2;--ch-t-input-border: #191A21;--ch-t-icon-foreground: #C5C5C5;--ch-t-sideBar-background: #21222C;--ch-t-sideBar-foreground: #F8F8F2;--ch-t-sideBar-border: #21222C;--ch-t-list-activeSelectionBackground: #44475A;--ch-t-list-activeSelectionForeground: #F8F8F2;--ch-t-list-hoverBackground: #44475A75; }'}}),"\n","\n","\n",(0,n.jsxs)(o.p,{children:["This is an addendum to the ",(0,n.jsx)(c.Z,{to:"/guide/getting-started",children:"Getting Started"})," guide."]}),"\n",(0,n.jsx)(o.p,{children:"When some of the packages developed in your monorepo are installed as dependencies in other packages developed in your monorepo, syncpack can check that the versions used are valid and consistent."}),"\n",(0,n.jsx)(o.h2,{id:"target-problem",children:"Target Problem"}),"\n",(0,n.jsx)(o.p,{children:"A Node.js client to communicate with your HTTP API is developed in your repo:"}),"\n",(0,n.jsx)(y.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",title:'"packages/node-client/package.json"',focus:"",code:{lines:[{tokens:[{content:"{",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'  "',props:{style:{color:"#8BE9FE"}}},{content:"name",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:": ",props:{style:{color:"#FF79C6"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"@your-repo/node-client",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:",",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'  "',props:{style:{color:"#8BE9FE"}}},{content:"version",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:": ",props:{style:{color:"#FF79C6"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"1.2.1",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}}]},{tokens:[{content:"}",props:{style:{color:"#F8F8F2"}}}]}],lang:"json"},annotations:[]}]}),"\n",(0,n.jsx)(o.p,{children:"As-is a front-end application which depends on it:"}),"\n",(0,n.jsx)(y.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",title:'"apps/dashboard-ui/package.json"',focus:"",code:{lines:[{tokens:[{content:"{",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'  "',props:{style:{color:"#8BE9FE"}}},{content:"name",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:": ",props:{style:{color:"#FF79C6"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"dashboard-ui",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:",",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'  "',props:{style:{color:"#8BE9FE"}}},{content:"version",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:": ",props:{style:{color:"#FF79C6"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"0.3.1",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:",",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'  "',props:{style:{color:"#8BE9FE"}}},{content:"dependencies",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" {",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'    "',props:{style:{color:"#8BE9FE"}}},{content:"@your-repo/node-client",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:": ",props:{style:{color:"#FF79C6"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"1.1.4",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:",",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'    "',props:{style:{color:"#8BE9FE"}}},{content:"@your-repo/node-client-plugin-retry",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:": ",props:{style:{color:"#FF79C6"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"1.7.1",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}}]},{tokens:[{content:"  }",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"}",props:{style:{color:"#F8F8F2"}}}]}],lang:"json"},annotations:[]}]}),"\n",(0,n.jsx)(o.p,{children:"And a plugin which extends it:"}),"\n",(0,n.jsx)(y.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",title:'"packages/node-client-plugin-retry/package.json"',focus:"",code:{lines:[{tokens:[{content:"{",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'  "',props:{style:{color:"#8BE9FE"}}},{content:"name",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:": ",props:{style:{color:"#FF79C6"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"@your-repo/node-client-plugin-retry",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:",",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'  "',props:{style:{color:"#8BE9FE"}}},{content:"version",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:": ",props:{style:{color:"#FF79C6"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"1.7.1",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:",",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'  "',props:{style:{color:"#8BE9FE"}}},{content:"devDependencies",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" {",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'    "',props:{style:{color:"#8BE9FE"}}},{content:"@your-repo/node-client",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:": ",props:{style:{color:"#FF79C6"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"workspace:*",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}}]},{tokens:[{content:"  },",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'  "',props:{style:{color:"#8BE9FE"}}},{content:"peerDependencies",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" {",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'    "',props:{style:{color:"#8BE9FE"}}},{content:"@your-repo/node-client",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:": ",props:{style:{color:"#FF79C6"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"^1.0.0",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}}]},{tokens:[{content:"  }",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"}",props:{style:{color:"#F8F8F2"}}}]}],lang:"json"},annotations:[]}]}),"\n",(0,n.jsx)(o.p,{children:"The Developers of this project:"}),"\n",(0,n.jsxs)(o.ol,{children:["\n",(0,n.jsx)(o.li,{children:"Provide a Web Service which their customers interact with via their Node.js Client and various Plugins."}),"\n",(0,n.jsxs)(o.li,{children:["The Plugins are developed to be compatible with any version of the Node.js Client in the entire 1.x range, as defined in their ",(0,n.jsx)(o.code,{children:"peerDependencies"}),". Companies around the world depend on this Client and Plugin and there is no reason to impose that all of them must use the same exact version of the Client."]}),"\n",(0,n.jsxs)(o.li,{children:["Use the ",(0,n.jsxs)(c.Z,{to:l.K.workspaceProtocol,children:["pnpm ",(0,n.jsx)(o.code,{children:"workspace:*"})]})," protocol to ensure that the local workspace package of the Client is resolved when working locally on the Plugin."]}),"\n",(0,n.jsx)(o.li,{children:"Want exact versions of the Client and its Retry Plugin when running their Dashboard UI in production."}),"\n"]}),"\n",(0,n.jsxs)(o.h2,{id:"the-local-dependency-type",children:["The ",(0,n.jsx)(o.code,{children:"local"})," dependency type"]}),"\n",(0,n.jsxs)(o.p,{children:['The "local"'," ",(0,n.jsx)(c.Z,{to:"/config/dependency-types",children:(0,n.jsx)("code",{children:"dependencyType"})})," relates to the",(0,n.jsx)(c.Z,{to:l.K.version,children:(0,n.jsx)("code",{children:"version"})})," properties of the package.json files from your own packages being developed in your monorepo."]}),"\n",(0,n.jsxs)(o.p,{children:["When ",(0,n.jsx)(o.code,{children:"local"})," is enabled, syncpack can see that:"]}),"\n",(0,n.jsxs)(o.ol,{children:["\n",(0,n.jsxs)(o.li,{children:["\u274c The UI is not using the latest client developed locally (",(0,n.jsx)(o.code,{children:"1.2.1"}),")."]}),"\n",(0,n.jsxs)(o.li,{children:["\u2705 The UI is using the latest plugin developed locally (",(0,n.jsx)(o.code,{children:"1.7.1"}),")."]}),"\n",(0,n.jsxs)(o.li,{children:["\u274c ",(0,n.jsx)(o.code,{children:"workspace:*"})," is not identical to ",(0,n.jsx)(o.code,{children:"1.2.1"})," (see below)."]}),"\n",(0,n.jsxs)(o.li,{children:["\u274c ",(0,n.jsx)(o.code,{children:"^1.0.0"})," is not identical to ",(0,n.jsx)(o.code,{children:"1.2.1"})," (see below)."]}),"\n"]}),"\n",(0,n.jsx)(o.h2,{id:"zero-configuration",children:"Zero Configuration?"}),"\n",(0,n.jsx)(o.p,{children:"As a sensible default, syncpack defines a monorepo-wide exact version policy as a starting point which can be tuned from there. If your project uses exact versions everywhere, and you always want them to be identical, you will not need to define any configuration."}),"\n",(0,n.jsx)(o.p,{children:"But most projects are not like that, and we will need to use configuration for syncpack to know what our requirements are."}),"\n",(0,n.jsx)(o.h2,{id:"possible-solutions",children:"Possible Solutions"}),"\n",(0,n.jsxs)(o.p,{children:["Let's look at ",(0,n.jsx)(o.code,{children:"workspace:*"})," under ",(0,n.jsx)(o.code,{children:"devDependencies"})," first and decide on a rule for that:"]}),"\n",(0,n.jsxs)(t,{children:[(0,n.jsx)("summary",{children:(0,n.jsxs)(o.p,{children:["Option 1: Pin local versions to ",(0,n.jsx)("code",{children:"workspace:*"})]})}),(0,n.jsx)(p.ZP,{level:"h3"})]}),"\n",(0,n.jsxs)(o.p,{children:["The fix for the Peer Dependency of ",(0,n.jsx)("code",{children:"^1.0.0"})," can also be used to fix the use of ",(0,n.jsx)("code",{children:"workspace:*"}),". Since the current version of ",(0,n.jsx)("code",{children:"1.2.1"})," of the Client is satisfied by both of these ranges, a ",(0,n.jsx)(c.Z,{to:"/config/version-groups/same-range",children:"Same Range Version Group"})," can be used."]}),"\n",(0,n.jsxs)(o.p,{children:["The versions will be considered a match unless eg. ",(0,n.jsx)(o.code,{children:"2.0.0"})," of the Client is released, or one of its dependents uses a range which does not include its current version."]}),"\n",(0,n.jsxs)(t,{children:[(0,n.jsx)("summary",{children:"Option 2: Check that a dependency's semver ranges always match"}),(0,n.jsx)(i.ZP,{level:"h3"})]})]})}function E(e={}){const{wrapper:o}={...(0,s.a)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(k,{...e})}):k(e)}function j(e,o){throw new Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},1341:(e,o,t)=>{t.d(o,{ZP:()=>d});var n=t(5893),s=t(1151),r=t(9794),c=t(9960);t(292),t(6217);const l={annotations:r.ds,Code:r.EK},p={staticMediaQuery:"not screen, (max-width: 768px)",lineNumbers:void 0,showCopyButton:!0,themeName:"dracula"};function i(e){const o={admonition:"admonition",code:"code",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return l||a("CH",!1),l.Code||a("CH.Code",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("style",{dangerouslySetInnerHTML:{__html:'[data-ch-theme="dracula"] {  --ch-t-colorScheme: dark;--ch-t-foreground: #F8F8F2;--ch-t-background: #282A36;--ch-t-lighter-inlineBackground: #282a36e6;--ch-t-editor-background: #282A36;--ch-t-editor-foreground: #F8F8F2;--ch-t-editor-rangeHighlightBackground: #BD93F915;--ch-t-editor-infoForeground: #3794FF;--ch-t-editor-selectionBackground: #44475A;--ch-t-focusBorder: #6272A4;--ch-t-tab-activeBackground: #282A36;--ch-t-tab-activeForeground: #F8F8F2;--ch-t-tab-inactiveBackground: #21222C;--ch-t-tab-inactiveForeground: #6272A4;--ch-t-tab-border: #191A21;--ch-t-tab-activeBorder: #282A36;--ch-t-editorGroup-border: #BD93F9;--ch-t-editorGroupHeader-tabsBackground: #191A21;--ch-t-editorLineNumber-foreground: #6272A4;--ch-t-input-background: #282A36;--ch-t-input-foreground: #F8F8F2;--ch-t-input-border: #191A21;--ch-t-icon-foreground: #C5C5C5;--ch-t-sideBar-background: #21222C;--ch-t-sideBar-foreground: #F8F8F2;--ch-t-sideBar-border: #21222C;--ch-t-list-activeSelectionBackground: #44475A;--ch-t-list-activeSelectionForeground: #F8F8F2;--ch-t-list-hoverBackground: #44475A75; }'}}),"\n","\n","\n","\n",(0,n.jsxs)(o.p,{children:["Add a ",(0,n.jsx)(c.Z,{to:"/config/version-groups/pinned",children:"Pinned Version Group"})," so that local packages are always installed using ",(0,n.jsx)(o.code,{children:"workspace:*"})," when they are used in ",(0,n.jsx)(o.code,{children:"devDependencies"}),"."]}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsxs)(o.li,{children:["An optional ",(0,n.jsx)(o.strong,{children:"label"})," can be added to document the rule."]}),"\n",(0,n.jsxs)(o.li,{children:["The ",(0,n.jsx)(o.strong,{children:"dependencies"})," array defines the names of the dependencies we want to target."]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.strong,{children:"dependencyTypes"})," results in these dependencies only being targeted by this group when they are located in ",(0,n.jsx)(o.code,{children:"devDependencies"}),"."]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.strong,{children:"pinVersion"})," states that these dependencies must always use ",(0,n.jsx)(o.code,{children:"workspace:*"}),"."]}),"\n"]}),"\n",(0,n.jsx)(l.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",title:'".syncpackrc"',focus:"",code:{lines:[{tokens:[{content:"{",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'  "',props:{style:{color:"#8BE9FE"}}},{content:"versionGroups",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"    {",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"label",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:": ",props:{style:{color:"#FF79C6"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"Use workspace protocol when developing local packages",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:",",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"dependencies",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"@your-repo/node-client-plugin-retry",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:", ",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"@your-repo/node-client",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:", ",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"dashboard-ui",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"],",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"dependencyTypes",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"dev",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"],",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"pinVersion",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:": ",props:{style:{color:"#FF79C6"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"workspace:*",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}}]},{tokens:[{content:"    }",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"  ]",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"}",props:{style:{color:"#F8F8F2"}}}]}],lang:"json"},annotations:[]}]}),"\n",(0,n.jsxs)(o.admonition,{type:"tip",children:[(0,n.jsxs)(o.p,{children:["The above example can be shortened: The ",(0,n.jsx)(o.code,{children:"$LOCAL"})," keyword is a helper to avoid writing out the names of every local package."]}),(0,n.jsx)(l.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:'"dependencies": [',props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'+  "$LOCAL"',props:{style:{color:"#50FA7B"}}}]},{tokens:[{content:'-  "@your-repo/node-client-plugin-retry",',props:{style:{color:"#FF5555"}}}]},{tokens:[{content:'-  "@your-repo/node-client",',props:{style:{color:"#FF5555"}}}]},{tokens:[{content:'-  "dashboard-ui"',props:{style:{color:"#FF5555"}}}]},{tokens:[{content:"],",props:{style:{color:"#F8F8F2"}}}]}],lang:"diff"},annotations:[]}]})]})]})}function d(e={}){const{wrapper:o}={...(0,s.a)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(i,{...e})}):i(e)}function a(e,o){throw new Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},4498:(e,o,t)=>{t.d(o,{ZP:()=>d});var n=t(5893),s=t(1151),r=t(9794),c=t(9960);t(292),t(6217);const l={annotations:r.ds,Code:r.EK},p={staticMediaQuery:"not screen, (max-width: 768px)",lineNumbers:void 0,showCopyButton:!0,themeName:"dracula"};function i(e){const o={admonition:"admonition",code:"code",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return l||a("CH",!1),l.Code||a("CH.Code",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("style",{dangerouslySetInnerHTML:{__html:'[data-ch-theme="dracula"] {  --ch-t-colorScheme: dark;--ch-t-foreground: #F8F8F2;--ch-t-background: #282A36;--ch-t-lighter-inlineBackground: #282a36e6;--ch-t-editor-background: #282A36;--ch-t-editor-foreground: #F8F8F2;--ch-t-editor-rangeHighlightBackground: #BD93F915;--ch-t-editor-infoForeground: #3794FF;--ch-t-editor-selectionBackground: #44475A;--ch-t-focusBorder: #6272A4;--ch-t-tab-activeBackground: #282A36;--ch-t-tab-activeForeground: #F8F8F2;--ch-t-tab-inactiveBackground: #21222C;--ch-t-tab-inactiveForeground: #6272A4;--ch-t-tab-border: #191A21;--ch-t-tab-activeBorder: #282A36;--ch-t-editorGroup-border: #BD93F9;--ch-t-editorGroupHeader-tabsBackground: #191A21;--ch-t-editorLineNumber-foreground: #6272A4;--ch-t-input-background: #282A36;--ch-t-input-foreground: #F8F8F2;--ch-t-input-border: #191A21;--ch-t-icon-foreground: #C5C5C5;--ch-t-sideBar-background: #21222C;--ch-t-sideBar-foreground: #F8F8F2;--ch-t-sideBar-border: #21222C;--ch-t-list-activeSelectionBackground: #44475A;--ch-t-list-activeSelectionForeground: #F8F8F2;--ch-t-list-hoverBackground: #44475A75; }'}}),"\n","\n","\n","\n",(0,n.jsxs)(o.p,{children:["Add a ",(0,n.jsx)(c.Z,{to:"/config/version-groups/same-range",children:"Same Range Version Group"})," which allows local packages installed in ",(0,n.jsx)(o.code,{children:"devDependencies"})," or ",(0,n.jsx)(o.code,{children:"peerDependencies"})," to use different semver ranges, as long as they all match the local package version."]}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsxs)(o.li,{children:["An optional ",(0,n.jsx)(o.strong,{children:"label"})," can be added to document the rule."]}),"\n",(0,n.jsxs)(o.li,{children:["The ",(0,n.jsx)(o.strong,{children:"dependencies"})," array defines the names of the dependencies we want to target."]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.strong,{children:"dependencyTypes"})," results in these dependencies only being targeted by this group when they are located in ",(0,n.jsx)(o.code,{children:"devDependencies"})," or ",(0,n.jsx)(o.code,{children:"peerDependencies"}),"."]}),"\n",(0,n.jsxs)(o.li,{children:["The ",(0,n.jsx)(o.strong,{children:"policy"})," of ",(0,n.jsx)(o.strong,{children:"sameRange"})," states that these dependencies are considered valid if every range matches the others."]}),"\n"]}),"\n",(0,n.jsx)(l.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",title:'".syncpackrc"',focus:"",code:{lines:[{tokens:[{content:"{",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'  "',props:{style:{color:"#8BE9FE"}}},{content:"versionGroups",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"    {",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"label",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:": ",props:{style:{color:"#FF79C6"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"Ensure semver ranges for locally developed packages satisfy the local version",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:",",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"dependencies",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"@your-repo/node-client-plugin-retry",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:", ",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"@your-repo/node-client",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:", ",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"dashboard-ui",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"],",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"dependencyTypes",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:":",props:{style:{color:"#FF79C6"}}},{content:" [",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"dev",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:", ",props:{style:{color:"#F8F8F2"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"peer",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"],",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'      "',props:{style:{color:"#8BE9FE"}}},{content:"policy",props:{style:{color:"#8BE9FD"}}},{content:'"',props:{style:{color:"#8BE9FE"}}},{content:": ",props:{style:{color:"#FF79C6"}}},{content:'"',props:{style:{color:"#E9F284"}}},{content:"sameRange",props:{style:{color:"#F1FA8C"}}},{content:'"',props:{style:{color:"#E9F284"}}}]},{tokens:[{content:"    }",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"  ]",props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:"}",props:{style:{color:"#F8F8F2"}}}]}],lang:"json"},annotations:[]}]}),"\n",(0,n.jsxs)(o.admonition,{type:"tip",children:[(0,n.jsxs)(o.p,{children:["The above example can be shortened: The ",(0,n.jsx)(o.code,{children:"$LOCAL"})," keyword is a helper to avoid writing out the names of every local package."]}),(0,n.jsx)(l.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:'"dependencies": [',props:{style:{color:"#F8F8F2"}}}]},{tokens:[{content:'+  "$LOCAL"',props:{style:{color:"#50FA7B"}}}]},{tokens:[{content:'-  "@your-repo/node-client-plugin-retry",',props:{style:{color:"#FF5555"}}}]},{tokens:[{content:'-  "@your-repo/node-client",',props:{style:{color:"#FF5555"}}}]},{tokens:[{content:'-  "dashboard-ui"',props:{style:{color:"#FF5555"}}}]},{tokens:[{content:"],",props:{style:{color:"#F8F8F2"}}}]}],lang:"diff"},annotations:[]}]})]})]})}function d(e={}){const{wrapper:o}={...(0,s.a)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(i,{...e})}):i(e)}function a(e,o){throw new Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},6217:(e,o,t)=>{t.d(o,{Hx:()=>s});t(7294);var n=t(5893);function s(e){let{children:o,level:t}=e;return(0,n.jsx)(t,{children:o})}},292:(e,o,t)=>{t.d(o,{K:()=>n});const n={"@types":"https://github.com/DefinitelyTyped/DefinitelyTyped",awsSdk:"https://aws.amazon.com/sdk-for-javascript/",dependencies:"https://docs.npmjs.com/cli/v9/configuring-npm/package-json#dependencies",devDependencies:"https://docs.npmjs.com/cli/v9/configuring-npm/package-json#devDependencies",engines:"https://docs.npmjs.com/cli/v9/configuring-npm/package-json#engines",packageManager:"https://nodejs.org/api/packages.html#packagemanager",version:"https://docs.npmjs.com/cli/v9/configuring-npm/package-json#version",workspaceProtocol:"https://pnpm.io/workspaces#workspace-protocol-workspace"}}}]);